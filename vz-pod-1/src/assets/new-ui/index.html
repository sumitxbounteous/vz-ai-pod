<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contract Review System - Hyundai 2026 MSA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        .strikethrough-red {
            text-decoration: line-through;
            text-decoration-color: #EF4444;
            text-decoration-thickness: 2px;
        }
        .hidden {
            display: none;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        .animate-bounce-1 {
            animation: bounce 1s infinite;
            animation-delay: 0ms;
        }
        .animate-bounce-2 {
            animation: bounce 1s infinite;
            animation-delay: 150ms;
        }
        .animate-bounce-3 {
            animation: bounce 1s infinite;
            animation-delay: 300ms;
        }
        .chat-messages {
            max-height: calc(100vh - 450px);
            overflow-y: auto;
        }
        .suggestion-card {
            transition: all 0.2s ease;
        }
        .suggestion-card:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
    </style>
    <style>
  /* FONT SIZE REDUCTION */
  body { font-size: 11px; }
  h1 { font-size: 16px !important; }
  h2 { font-size: 14px !important; }
  h3 { font-size: 12px !important; }

  /* HEADER â†” AI STUDIO PARTITION */
  .ai-partition {
    height: 1px;
    background: #e5e7eb;
  }

  /* CONTRACT EDIT MODE */
  .contract-editable {
    background: #fffbea;
    outline: 1px dashed #f59e0b;
  }

  /* AI APPLIED CONFIRMATION */
  .ai-applied {
    background: #dcfce7;
    border: 1px solid #22c55e;
    color: #166534;
  }

  .toast-enter {
    opacity: 0;
    transform: translateY(-6px);
  }
  .toast-show {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 160ms ease, transform 160ms ease;
  }
</style>

</head>
<body class="bg-gray-50">
    <div class="min-h-screen flex flex-col">
        <!-- Main Header -->
        <header class="bg-white border-b border-gray-200 px-8 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <!-- Logo -->
                    <div class="w-10 h-10 bg-red-600 rounded flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"/>
                        </svg>
                    </div>
                    
                    <!-- Title -->
                    <div class="flex items-center gap-3">
                        <div>
                            <div class="text-xs text-gray-500">Hyundai</div>
                            <h1 class="text-2xl font-bold text-red-600">2026 Master Service Agreement</h1>
                        </div>
                        <span class="px-3 py-1 bg-gray-100 border border-gray-300 rounded-md text-xs font-semibold text-gray-700">
                            Draft
                        </span>
                        <button class="p-1 hover:bg-gray-100 rounded transition-colors">
                            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </button>
                    </div>
                </div>

                                    


                <!-- Header Actions -->
                <div class="flex items-center gap-3">
                    <button class="px-6 py-2.5 bg-gray-900 text-white text-sm font-semibold rounded-md hover:bg-gray-800 transition-colors">
                        Submit
                    </button>
                    <button class="p-2 hover:bg-gray-100 rounded transition-colors">
                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"/>
                        </svg>
                    </button>
                    <button id="toggleAiStudioBtn" onclick="toggleAiStudio()" class="p-2 hover:bg-gray-100 rounded transition-colors" title="Toggle AI Studio">
                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"/>
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <!-- Content Area -->
        <div class="flex flex-1">
            <!-- Left Panel - Contract Document -->
            <div id="contractPanel" class="flex-1 bg-white overflow-y-auto">
                <!-- Version Info Bar -->
                <div class="sticky top-0 bg-white z-10 px-8 py-4 border-b border-gray-200 flex items-center justify-between">
                    <div class="flex items-center gap-2">
                        <span class="text-sm font-semibold text-gray-900">Version 2.0</span>
                        <span class="text-sm text-gray-500">(Jan 20, 2026)</span>
                        <button class="p-1 hover:bg-gray-100 rounded">
                            <svg class="w-4 h-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </button>
                    </div>
                    <button id="contractEditBtn" onclick="toggleContractEdit()" class="text-sm font-medium text-gray-700 hover:text-gray-900 underline">
                        Edit
                    </button>
                </div>

                <!-- Contract Content -->
                <div id="contractContent" class="px-8 py-6">
                    <!-- Section 1: Definitions -->
                    <div class="mb-10">
                        <div class="mb-4">
                            <div class="text-xs text-gray-500 mb-1.5">Section 1</div>
                            <div class="flex items-center gap-2">
                                <h2 class="text-2xl font-bold text-gray-900">Definitions</h2>
                                <button class="p-1.5 hover:bg-gray-100 rounded transition-colors">
                                    <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="space-y-4">
                            <p class="text-base font-semibold text-gray-900 leading-relaxed">
                                Customer Agreement for Verizon Wireless Internet Data Services (Hyundai) Customer Agreement for Verizon Wireless Internet Data Service (Hyundai)
                            </p>
                            
                            <p class="text-base text-gray-700 leading-relaxed">
                                Thank you for choosing Verizon Wireless. In this Customer Agreement ("Agreement"), you'll find important information about your Verizon Wireless Internet Data service (the "Service"), offered to you through Hyundai Motor America ("HMA") Wi-Fi + Streaming which are more fully described in the Connected Services Agreement Terms and Conditions (available at https://owners.hyundaiusa.com/us/en/terms-and-conditions). The information contained in this Agreement addresses, :
                            </p>

                            <ul class="list-disc list-inside space-y-2 text-base text-gray-700 ml-4">
                                <li>Our ability to make changes to your Service or this Agreement's terms.</li>
                                <li>Our liability if things don't work as planned and how any disputes between us must be resolved in arbitration or small claims court.</li>
                            </ul>
                        </div>

                        <hr class="mt-8 border-gray-200">
                    </div>

                    <!-- Section 2: Service Level Agreement -->
                    <div class="mb-10">
                        <div class="mb-4">
                            <div class="text-xs text-gray-500 mb-1.5">Section 2</div>
                            <div class="flex items-center gap-2">
                                <h2 class="text-2xl font-bold text-gray-900">Service level agreement</h2>
                                <button class="p-1.5 hover:bg-gray-100 rounded transition-colors">
                                    <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="space-y-5">
                            <p class="text-base text-gray-700 leading-relaxed">
                                Here is an overview of the key solutions we propose
                            </p>

                            <div>
                                <p class="text-base font-semibold text-gray-900 mb-3">
                                    1. Mobile Solutions: Comprehensive Device & Service Management
                                </p>
                                <p class="text-base text-blue-600 hover:text-blue-700 underline cursor-pointer mb-3">
                                    Service credits shall be issued for interruptions exceeding 4 consecutive hours.
                                </p>
                                <p class="text-base text-gray-700 leading-relaxed mb-4">
                                    We propose providing additional smartphones and tablets for your growing workforce, alongside upgrading existing mobile lines to leverage the full capabilities of Verizon's network. Â®
                                </p>
                                
                                <div>
                                    <p class="text-base font-semibold text-gray-900 mb-2">Benefits</p>
                                    <p class="text-base text-gray-700 leading-relaxed">
                                        Enhanced Mobility: Empower employees with cutting-edge devices for on-the-go productivity and customer interaction. Grentin foraliine: Accese 20/S astest emerspes forcial usines til ations al personnel,
                                    </p>
                                </div>
                            </div>

                            <div>
                                <p class="text-base font-semibold text-gray-900 mb-3">
                                    2. Fixed Wireless Access (FWA) & Business Internet Solutions
                                </p>
                                <p class="text-base text-gray-700 leading-relaxed">
                                    Leverage the power of Verizon's 5G network for versatile and reliable internet connectivity. We propose Business Internet for 5GBI (Gigabit Business Internet) to bring high-speed, low-latency internet to your key locations. Additionally, FWA can provide flexible Jobsite Connectivity for temporary setups or pop-up stores, robust internet for Kiosks to enhance in-store digital experiences, and serve as a reliable Backup internet solution for your primary connections, ensuring business continuity.
                                </p>
                            </div>
                        </div>

                        <hr class="mt-8 border-gray-200">
                    </div>

                    <!-- Section 3: Service Level Agreement -->
                    <div class="mb-10">
                        <div class="mb-4">
                            <div class="text-xs text-gray-500 mb-1.5">Section 3</div>
                            <div class="flex items-center gap-2">
                                <h2 class="text-2xl font-bold text-gray-900">Service level agreement</h2>
                                <button class="p-1.5 hover:bg-gray-100 rounded transition-colors">
                                    <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="space-y-5">
                            <p class="text-base text-gray-700 leading-relaxed">
                                Here is an overview of the key solutions we propose
                            </p>

                            <div>
                                <p class="text-base font-semibold text-gray-900 mb-3">
                                    1. Mobile Solutions: Comprehensive Device & Service Management
                                </p>
                                <p class="text-base text-blue-600 hover:text-blue-700 underline cursor-pointer mb-3">
                                    Equip your teams with the latest technology and ensure seamless communication across all levels of your organization.
                                </p>
                                <p class="text-base text-gray-700 leading-relaxed">
                                    We propose providing additional smartphones and tablets for your growing workforce, alongside upgrading existing mobile lines to leverage the full capabilities of Verizon's network. Â®
                                </p>
                            </div>

                            <div>
                                <p class="text-base font-semibold text-gray-900 mb-2">Benefits</p>
                                <p class="text-base text-gray-700 leading-relaxed">
                                    Enhanced Mobility: Empower employees with cutting-edge devices for on-the-go productivity and customer interaction. Grentin foraliine: Accese 20/S astest emerspes forcial usines til ations al personnel,
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel - AI Studio -->
            <div id="aiStudioPanel" class="w-125 bg-gray-50 border-l border-gray-200 flex flex-col">
                <!-- AI Studio Header -->
                <div class="bg-white px-6 py-6 border-b border-gray-200">
                    <h2 class="text-3xl font-bold text-red-600 mb-6">AI Studio</h2>
                    <div class="ai-partition mb-4"></div>
                    
                    <!-- Tabs -->
                    <div class="flex gap-3 mb-6">
                        <button
                            onclick="switchAITab('redline')"
                            id="redlineTab"
                            class="px-4 py-2 text-sm font-semibold rounded-md bg-red-600 text-white shadow-sm">
                            Redline review (6)
                        </button>
                        <button
                            onclick="switchAITab('assistant')"
                            id="assistantTab"
                            class="px-4 py-2 text-sm font-semibold rounded-md text-gray-700 hover:bg-gray-100 transition-colors">
                            Ask AI assistant
                        </button>
                    </div>

                    <!-- Status Badges -->
                    <div id="statusBadges" class="flex gap-2">
                        <span class="px-3 py-1.5 bg-yellow-100 text-yellow-800 text-xs font-bold rounded-md">
                            6 Pending
                        </span>
                        <span class="px-3 py-1.5 bg-green-100 text-green-800 text-xs font-bold rounded-md">
                            0 Accepted
                        </span>
                        <span class="px-3 py-1.5 bg-red-100 text-red-800 text-xs font-bold rounded-md">
                            0 Rejected
                        </span>
                    </div>

                    <div id="aiAppliedToast" class="hidden mt-4 px-4 py-2 rounded-md text-xs font-semibold ai-applied toast-enter">
                        AI Suggestions Applied
                    </div>
                </div>

                <!-- Redline Review Content -->
                <div id="redlineContent" class="flex-1 overflow-y-auto p-6 space-y-4">
                    <!-- Suggestion Card 1 - High Risk -->
                    <div class="suggestion-card bg-white rounded-lg border border-gray-200 overflow-hidden">
                        <div class="p-5">
                            <div class="flex items-start justify-between mb-4">
                                <div>
                                    <div class="text-xs text-gray-500 mb-1">Section 2</div>
                                    <h3 class="text-lg font-bold text-gray-900">Service Level Agreements</h3>
                                </div>
                                <span class="px-2.5 py-1 text-xs font-bold rounded bg-orange-600 text-white">
                                    High risk
                                </span>
                            </div>

                            <!-- Original -->
                            <div class="mb-4 p-3 bg-red-50 rounded-md border border-red-100">
                                <div class="text-xs font-bold text-gray-700 mb-2">Original</div>
                                <p class="text-sm text-gray-900 strikethrough-red">
                                    Service credits shall be issued for interruptions exceeding <span class="font-semibold">24</span> consecutive hours.
                                </p>
                            </div>

                            <!-- Proposed -->
                            <div class="mb-4 p-3 bg-gray-50 rounded-md border border-gray-200">
                                <div class="text-xs font-bold text-gray-700 mb-2">Proposed</div>
                                <p id="proposed-1" class="text-sm text-gray-900 font-medium">
                                    Service credits shall be issued for interruptions exceeding <span class="font-bold">4</span> consecutive hours.
                                </p>
                                <textarea id="edit-1" class="hidden w-full p-3 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none" rows="3"></textarea>
                                <div id="edit-buttons-1" class=" flex gap-2 mt-3">
                                    <button onclick="saveEdit(1)" class="px-4 py-2 bg-red-600 text-white text-xs font-semibold rounded-md hover:bg-red-700">
                                        Save Changes
                                    </button>
                                    <button onclick="cancelEdit(1)" class="px-4 py-2 border border-gray-300 text-gray-700 text-xs font-semibold rounded-md hover:bg-gray-50">
                                        Cancel
                                    </button>
                                </div>
                            </div>

                            <!-- AI Recommendation -->
                            <div class="mb-4 p-4 bg-red-50 rounded-md border border-red-200">
                                <div class="flex items-center gap-2 mb-2">
                                    <svg class="w-4 h-4 text-red-600" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M10 2L2 7l8 5 8-5-8-5z"/><path d="M2 17l8 5 8-5M2 12l8 5 8-5"/>
                                    </svg>
                                    <span class="text-xs font-bold text-gray-900">AI Recommended</span>
                                </div>
                                <p class="text-sm text-gray-900 mb-2">
                                    Service credits shall be issued only for interruptions exceeding <span class="font-bold">12</span> consecutive hours
                                </p>
                                <button class="text-xs text-gray-600 hover:text-gray-900 flex items-center gap-1 font-medium">
                                    AI reasoning
                                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                                    </svg>
                                </button>
                            </div>

                            <!-- Actions -->
                            <button id="edit-btn-1" onclick="startEdit(1, 'Service credits shall be issued for interruptions exceeding 4 consecutive hours.')" class="text-sm text-gray-700 hover:text-gray-900 underline mb-4 font-medium">
                                Edit
                            </button>

                            <div id="action-buttons-1" class="flex gap-2">
                                <button class="flex-1 px-4 py-2.5 border-2 border-gray-300 text-gray-700 text-sm font-semibold rounded-md hover:bg-gray-50">
                                    Decline
                                </button>
                                <button class="flex-1 px-4 py-2.5 bg-gray-900 text-white text-sm font-semibold rounded-md hover:bg-gray-800">
                                    Accept
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Suggestion Card 2 - Medium Risk -->
                    <div class="suggestion-card bg-white rounded-lg border border-gray-200 overflow-hidden">
                        <div class="p-5">
                            <div class="flex items-start justify-between mb-4">
                                <div>
                                    <div class="text-xs text-gray-500 mb-1">Section 3</div>
                                    <h3 class="text-lg font-bold text-gray-900">Service Level Agreements</h3>
                                </div>
                                <span class="px-2.5 py-1 text-xs font-bold rounded bg-yellow-500 text-white">
                                    Medium risk
                                </span>
                            </div>

                            <!-- Original -->
                            <div class="mb-4 p-3 bg-red-50 rounded-md border border-red-100">
                                <div class="text-xs font-bold text-gray-700 mb-2">Original</div>
                                <p class="text-sm text-gray-900 strikethrough-red">
                                    Service credits shall be issued for interruptions exceeding <span class="font-semibold">24</span> consecutive hours.
                                </p>
                            </div>

                            <!-- Proposed -->
                            <div class="mb-4 p-3 bg-gray-50 rounded-md border border-gray-200">
                                <div class="text-xs font-bold text-gray-700 mb-2">Proposed</div>
                                <p id="proposed-2" class="text-sm text-gray-900 font-medium">
                                    Service credits shall be issued for interruptions exceeding <span class="font-bold">4</span> consecutive hours.
                                </p>
                                <textarea id="edit-2" class="hidden w-full p-3 text-sm border border-gray-300 rounded-md resize-none" rows="3"></textarea>
                                <div id="edit-buttons-2" class=" flex gap-2 mt-3">
                                    <button onclick="saveEdit(2)" class="px-4 py-2 bg-red-600 text-white text-xs font-semibold rounded-md hover:bg-red-700">Save</button>
                                    <button onclick="cancelEdit(2)" class="px-4 py-2 border border-gray-300 text-gray-700 text-xs font-semibold rounded-md">Cancel</button>
                                </div>
                            </div>

                            <!-- AI Recommendation -->
                            <div class="mb-4 p-4 bg-red-50 rounded-md border border-red-200">
                                <div class="flex items-center gap-2 mb-2">
                                    <svg class="w-4 h-4 text-red-600" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M10 2L2 7l8 5 8-5-8-5z"/><path d="M2 17l8 5 8-5M2 12l8 5 8-5"/>
                                    </svg>
                                    <span class="text-xs font-bold text-gray-900">AI Recommended</span>
                                </div>
                                <p class="text-sm text-gray-900 mb-2">
                                    Service credits shall be issued only for interruptions exceeding <span class="font-bold">12</span> consecutive hours
                                </p>
                                <button class="text-xs text-gray-600 hover:text-gray-900 flex items-center gap-1 font-medium">
                                    AI reasoning
                                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                                    </svg>
                                </button>
                            </div>

                            <button id="edit-btn-2" onclick="startEdit(2, 'Service credits shall be issued for interruptions exceeding 4 consecutive hours.')" class="text-sm text-gray-700 hover:text-gray-900 underline mb-4 font-medium">Edit</button>

                            <div id="action-buttons-2" class="flex gap-2">
                                <button class="flex-1 px-4 py-2.5 border-2 border-gray-300 text-gray-700 text-sm font-semibold rounded-md hover:bg-gray-50">Decline</button>
                                <button class="flex-1 px-4 py-2.5 bg-gray-900 text-white text-sm font-semibold rounded-md hover:bg-gray-800">Accept</button>
                            </div>
                        </div>
                    </div>

                    <!-- Suggestion Card 3 - Low Risk -->
                    <div class="suggestion-card bg-white rounded-lg border border-gray-200 overflow-hidden">
                        <div class="p-5">
                            <div class="flex items-start justify-between mb-4">
                                <div>
                                    <div class="text-xs text-gray-500 mb-1">Section 4</div>
                                    <h3 class="text-lg font-bold text-gray-900">Payment Terms</h3>
                                </div>
                                <span class="px-2.5 py-1 text-xs font-bold rounded bg-green-600 text-white">
                                    Low risk
                                </span>
                            </div>

                            <div class="mb-4 p-3 bg-red-50 rounded-md border border-red-100">
                                <div class="text-xs font-bold text-gray-700 mb-2">Original</div>
                                <p class="text-sm text-gray-900 strikethrough-red">
                                    Payment terms net 30 days from invoice date with 2% early payment discount if paid within 10 days.
                                </p>
                            </div>

                            <div class="mb-4 p-3 bg-gray-50 rounded-md border border-gray-200">
                                <div class="text-xs font-bold text-gray-700 mb-2">Proposed</div>
                                <p id="proposed-3" class="text-sm text-gray-900 font-medium">
                                    Payment terms net 45 days from invoice date with 2% early payment discount if paid within 15 days.
                                </p>
                                <textarea id="edit-3" class="hidden w-full p-3 text-sm border border-gray-300 rounded-md resize-none" rows="3"></textarea>
                                <div id="edit-buttons-3" class=" flex gap-2 mt-3">
                                    <button onclick="saveEdit(3)" class="px-4 py-2 bg-red-600 text-white text-xs font-semibold rounded-md">Save</button>
                                    <button onclick="cancelEdit(3)" class="px-4 py-2 border border-gray-300 text-gray-700 text-xs font-semibold rounded-md">Cancel</button>
                                </div>
                            </div>

                            <div class="mb-4 p-4 bg-green-50 rounded-md border border-green-200">
                                <div class="flex items-center gap-2 mb-2">
                                    <svg class="w-4 h-4 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="text-xs font-bold text-gray-900">Favorable Change</span>
                                </div>
                                <p class="text-sm text-gray-900">
                                    Extended payment terms improve cash flow management. This is a beneficial change that should be accepted.
                                </p>
                            </div>

                            <button id="edit-btn-3" onclick="startEdit(3, 'Payment terms net 45 days from invoice date with 2% early payment discount if paid within 15 days.')" class="text-sm text-gray-700 hover:text-gray-900 underline mb-4 font-medium">Edit</button>

                            <div id="action-buttons-3" class="flex gap-2">
                                <button class="flex-1 px-4 py-2.5 border-2 border-gray-300 text-gray-700 text-sm font-semibold rounded-md hover:bg-gray-50">Decline</button>
                                <button class="flex-1 px-4 py-2.5 bg-gray-900 text-white text-sm font-semibold rounded-md hover:bg-gray-800">Accept</button>
                            </div>
                        </div>
                    </div>

                    <!-- Suggestion Cards 4-6 (condensed) -->
                    <div class="suggestion-card bg-white rounded-lg border border-gray-200 p-5">
                        <div class="flex items-start justify-between mb-3">
                            <div>
                                <div class="text-xs text-gray-500 mb-1">Section 5</div>
                                <h3 class="text-base font-bold text-gray-900">Warranty Provisions</h3>
                            </div>
                            <span class="px-2.5 py-1 text-xs font-bold rounded bg-orange-600 text-white">High risk</span>
                        </div>
                        <div class="mb-3 p-2 bg-red-50 rounded text-xs">
                            <span class="font-semibold">Original:</span> <span class="strikethrough-red">12-month warranty coverage</span>
                        </div>
                        <div class="mb-3 p-2 bg-gray-50 rounded text-xs">
                            <span class="font-semibold">Proposed:</span> 6-month warranty coverage
                        </div>
                        <div class="flex gap-2">
                            <button class="flex-1 px-3 py-2 border-2 border-gray-300 text-xs font-semibold rounded-md">Decline</button>
                            <button class="flex-1 px-3 py-2 bg-gray-900 text-white text-xs font-semibold rounded-md">Accept</button>
                        </div>
                    </div>

                    <div class="suggestion-card bg-white rounded-lg border border-gray-200 p-5">
                        <div class="flex items-start justify-between mb-3">
                            <div>
                                <div class="text-xs text-gray-500 mb-1">Section 6</div>
                                <h3 class="text-base font-bold text-gray-900">Data Security Measures</h3>
                            </div>
                            <span class="px-2.5 py-1 text-xs font-bold rounded bg-green-600 text-white">Low risk</span>
                        </div>
                        <div class="mb-3 p-2 bg-red-50 rounded text-xs">
                            <span class="font-semibold">Original:</span> <span class="strikethrough-red">Industry standard encryption</span>
                        </div>
                        <div class="mb-3 p-2 bg-gray-50 rounded text-xs">
                            <span class="font-semibold">Proposed:</span> AES-256 encryption with SOC 2 Type II certification
                        </div>
                        <div class="flex gap-2">
                            <button class="flex-1 px-3 py-2 border-2 border-gray-300 text-xs font-semibold rounded-md">Decline</button>
                            <button class="flex-1 px-3 py-2 bg-gray-900 text-white text-xs font-semibold rounded-md">Accept</button>
                        </div>
                    </div>

                    <div class="suggestion-card bg-white rounded-lg border border-gray-200 p-5">
                        <div class="flex items-start justify-between mb-3">
                            <div>
                                <div class="text-xs text-gray-500 mb-1">Section 7</div>
                                <h3 class="text-base font-bold text-gray-900">Termination Notice Period</h3>
                            </div>
                            <span class="px-2.5 py-1 text-xs font-bold rounded bg-yellow-500 text-white">Medium risk</span>
                        </div>
                        <div class="mb-3 p-2 bg-red-50 rounded text-xs">
                            <span class="font-semibold">Original:</span> <span class="strikethrough-red">90-day termination notice</span>
                        </div>
                        <div class="mb-3 p-2 bg-gray-50 rounded text-xs">
                            <span class="font-semibold">Proposed:</span> 60-day termination notice
                        </div>
                        <div class="flex gap-2">
                            <button class="flex-1 px-3 py-2 border-2 border-gray-300 text-xs font-semibold rounded-md">Decline</button>
                            <button class="flex-1 px-3 py-2 bg-gray-900 text-white text-xs font-semibold rounded-md">Accept</button>
                        </div>
                    </div>
                </div>

                <!-- AI Assistant Content -->
                <div id="assistantContent" class=" flex flex-col flex-1">
                    <!-- Chat Messages -->
                    <div id="chatMessages" class="flex-1 overflow-y-auto p-6 space-y-4 chat-messages">
                        <div class="flex justify-start">
                            <div class="max-w-[85%] rounded-lg p-4 bg-white border border-gray-200 shadow-sm">
                                <div class="flex items-center gap-2 mb-2">
                                    <svg class="w-4 h-4 text-red-600" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M10 2L2 7l8 5 8-5-8-5z"/><path d="M2 17l8 5 8-5M2 12l8 5 8-5"/>
                                    </svg>
                                    <span class="text-xs font-bold text-gray-900">AI Assistant</span>
                                </div>
                                <p class="text-sm text-gray-900 leading-relaxed">
                                    Hello! I'm your AI contract assistant for the Hyundai 2026 Master Service Agreement review. I can help you understand contract changes, suggest negotiation strategies, analyze risk levels, or answer questions about specific clauses. How can I assist you today?
                                </p>
                                <div class="text-xs text-gray-500 mt-2">
                                    <script>document.write(new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}))</script>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Suggested Questions -->
                    <div class="px-6 py-4 bg-gray-100 border-t border-gray-200">
                        <div class="text-xs font-bold text-gray-700 mb-3">Quick questions:</div>
                        <div class="grid grid-cols-2 gap-2">
                            <button onclick="askQuestion('What are the high-risk items in this contract?')" class="px-3 py-2 bg-white border border-gray-300 text-xs text-gray-700 rounded-md hover:bg-gray-50 hover:border-gray-400 transition-colors text-left font-medium">
                                ðŸ”´ High-risk items?
                            </button>
                            <button onclick="askQuestion('What negotiation strategy do you recommend?')" class="px-3 py-2 bg-white border border-gray-300 text-xs text-gray-700 rounded-md hover:bg-gray-50 hover:border-gray-400 transition-colors text-left font-medium">
                                ðŸ’¡ Strategy advice?
                            </button>
                            <button onclick="askQuestion('Should I accept these changes?')" class="px-3 py-2 bg-white border border-gray-300 text-xs text-gray-700 rounded-md hover:bg-gray-50 hover:border-gray-400 transition-colors text-left font-medium">
                                âœ… Should I accept?
                            </button>
                            <button onclick="askQuestion('Explain Section 2 changes')" class="px-3 py-2 bg-white border border-gray-300 text-xs text-gray-700 rounded-md hover:bg-gray-50 hover:border-gray-400 transition-colors text-left font-medium">
                                ðŸ“„ Section 2 details
                            </button>
                        </div>
                    </div>

                    <!-- Chat Input -->
                    <div class="p-6 bg-white border-t border-gray-200">
                        <div class="flex gap-2">
                            <input
                                type="text"
                                id="chatInput"
                                placeholder="Ask me anything about this contract..."
                                class="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm"
                                onkeypress="if(event.key === 'Enter') sendMessage()"
                            />
                            <button onclick="sendMessage()" class="px-5 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-sm">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // AI Tab switching
        function switchAITab(tab) {
            const redlineContent = document.getElementById('redlineContent');
            const assistantContent = document.getElementById('assistantContent');
            const statusBadges = document.getElementById('statusBadges');
            const redlineTab = document.getElementById('redlineTab');
            const assistantTab = document.getElementById('assistantTab');

            if (tab === 'redline') {
                redlineContent.classList.remove('hidden');
                assistantContent.classList.add('hidden');
                statusBadges.classList.remove('hidden');
                redlineTab.classList.add('bg-red-600', 'text-white', 'shadow-sm');
                redlineTab.classList.remove('text-gray-700', 'hover:bg-gray-100');
                assistantTab.classList.add('text-gray-700', 'hover:bg-gray-100');
                assistantTab.classList.remove('bg-red-600', 'text-white', 'shadow-sm');
            } else {
                redlineContent.classList.add('hidden');
                assistantContent.classList.remove('hidden');
                statusBadges.classList.add('hidden');
                assistantTab.classList.add('bg-red-600', 'text-white', 'shadow-sm');
                assistantTab.classList.remove('text-gray-700', 'hover:bg-gray-100');
                redlineTab.classList.add('text-gray-700', 'hover:bg-gray-100');
                redlineTab.classList.remove('bg-red-600', 'text-white', 'shadow-sm');
            }
        }

        // Edit functionality
        function startEdit(id, currentText) {
            const proposed = document.getElementById(`proposed-${id}`);
            const textarea = document.getElementById(`edit-${id}`);
            const editButtons = document.getElementById(`edit-buttons-${id}`);
            const editBtn = document.getElementById(`edit-btn-${id}`);
            const actionButtons = document.getElementById(`action-buttons-${id}`);

            proposed.classList.add('hidden');
            textarea.classList.remove('hidden');
            editButtons.classList.remove('hidden');
            editBtn.classList.add('hidden');
            actionButtons.classList.add('hidden');
            
            textarea.value = currentText;
            textarea.focus();
        }

        function saveEdit(id) {
            const proposed = document.getElementById(`proposed-${id}`);
            const textarea = document.getElementById(`edit-${id}`);
            const editButtons = document.getElementById(`edit-buttons-${id}`);
            const editBtn = document.getElementById(`edit-btn-${id}`);
            const actionButtons = document.getElementById(`action-buttons-${id}`);

            const newText = textarea.value;
            proposed.innerHTML = newText;
            
            proposed.classList.remove('hidden');
            textarea.classList.add('hidden');
            editButtons.classList.add('hidden');
            editBtn.classList.remove('hidden');
            actionButtons.classList.remove('hidden');

            editBtn.setAttribute('onclick', `startEdit(${id}, '${newText.replace(/'/g, "\\'")}' )`);

            showAISuggestionsApplied();
        }

        function cancelEdit(id) {
            const proposed = document.getElementById(`proposed-${id}`);
            const textarea = document.getElementById(`edit-${id}`);
            const editButtons = document.getElementById(`edit-buttons-${id}`);
            const editBtn = document.getElementById(`edit-btn-${id}`);
            const actionButtons = document.getElementById(`action-buttons-${id}`);

            proposed.classList.remove('hidden');
            textarea.classList.add('hidden');
            editButtons.classList.add('hidden');
            editBtn.classList.remove('hidden');
            actionButtons.classList.remove('hidden');
        }

        // AI Studio toggle (maximize/minimize)
        function toggleAiStudio() {
            const aiPanel = document.getElementById('aiStudioPanel');
            const contractPanel = document.getElementById('contractPanel');
            const toggleBtn = document.getElementById('toggleAiStudioBtn');

            aiPanel.classList.toggle('hidden');
            contractPanel.classList.toggle('flex-1');

            if (aiPanel.classList.contains('hidden')) {
                toggleBtn.classList.add('bg-gray-100');
            } else {
                toggleBtn.classList.remove('bg-gray-100');
            }
        }

        // Contract edit toggle
        function toggleContractEdit() {
            const contractContent = document.getElementById('contractContent');
            const contractEditBtn = document.getElementById('contractEditBtn');

            const isEditable = contractContent.getAttribute('contenteditable') === 'true';
            contractContent.setAttribute('contenteditable', String(!isEditable));
            contractContent.classList.toggle('contract-editable', !isEditable);

            contractEditBtn.textContent = isEditable ? 'Edit' : 'Save';
        }

        // AI Suggestions Applied toast
        function showAISuggestionsApplied() {
            const toast = document.getElementById('aiAppliedToast');
            if (!toast) return;

            toast.classList.remove('hidden');
            requestAnimationFrame(() => {
                toast.classList.add('toast-show');
                toast.classList.remove('toast-enter');
            });

            clearTimeout(window.__aiToastTimer);
            window.__aiToastTimer = setTimeout(() => {
                toast.classList.remove('toast-show');
                toast.classList.add('toast-enter');
                setTimeout(() => toast.classList.add('hidden'), 180);
            }, 1800);
        }

        // Chat functionality
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            addUserMessage(message);
            input.value = '';
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                const response = getAIResponse(message);
                addAIMessage(response);
            }, 1500);
        }

        function askQuestion(question) {
            document.getElementById('chatInput').value = question;
            sendMessage();
        }

        function addUserMessage(text) {
            const messagesDiv = document.getElementById('chatMessages');
            const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            const messageHTML = `
                <div class="flex justify-end">
                    <div class="max-w-[85%] rounded-lg p-4 bg-red-600 text-white shadow-sm">
                        <p class="text-sm leading-relaxed">${text}</p>
                        <div class="text-xs text-red-100 mt-2">${time}</div>
                    </div>
                </div>
            `;
            
            messagesDiv.insertAdjacentHTML('beforeend', messageHTML);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function addAIMessage(text) {
            const messagesDiv = document.getElementById('chatMessages');
            const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            const messageHTML = `
                <div class="flex justify-start">
                    <div class="max-w-[85%] rounded-lg p-4 bg-white border border-gray-200 shadow-sm">
                        <div class="flex items-center gap-2 mb-2">
                            <svg class="w-4 h-4 text-red-600" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 2L2 7l8 5 8-5-8-5z"/><path d="M2 17l8 5 8-5M2 12l8 5 8-5"/>
                            </svg>
                            <span class="text-xs font-bold text-gray-900">AI Assistant</span>
                        </div>
                        <p class="text-sm text-gray-900 leading-relaxed">${text}</p>
                        <div class="text-xs text-gray-500 mt-2">${time}</div>
                    </div>
                </div>
            `;
            
            messagesDiv.insertAdjacentHTML('beforeend', messageHTML);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function showTypingIndicator() {
            const messagesDiv = document.getElementById('chatMessages');
            
            const indicatorHTML = `
                <div id="typingIndicator" class="flex justify-start">
                    <div class="bg-white border border-gray-200 rounded-lg p-4 shadow-sm">
                        <div class="flex items-center gap-2">
                            <svg class="w-4 h-4 text-red-600" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 2L2 7l8 5 8-5-8-5z"/><path d="M2 17l8 5 8-5M2 12l8 5 8-5"/>
                            </svg>
                            <div class="flex gap-1">
                                <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce-1"></div>
                                <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce-2"></div>
                                <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce-3"></div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            messagesDiv.insertAdjacentHTML('beforeend', indicatorHTML);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function hideTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            if (indicator) indicator.remove();
        }

        function getAIResponse(question) {
            const lowerQuestion = question.toLowerCase();
            
            if (lowerQuestion.includes('high-risk') || lowerQuestion.includes('high risk')) {
                return 'Based on my analysis of the Hyundai 2026 MSA, there are 2 HIGH-RISK items requiring immediate attention:\n\n1. **Service Level Agreements (Section 2)**: The proposed change reduces SLA from 24 hours to 4 hours, which significantly increases accountability requirements. AI recommends 12 hours as a middle ground.\n\n2. **Warranty Provisions (Section 5)**: Reducing warranty from 12 months to 6 months substantially decreases protection. This needs negotiation.\n\nI recommend prioritizing these two items in your negotiations with Verizon.';
            } else if (lowerQuestion.includes('strategy') || lowerQuestion.includes('negotiate')) {
                return '**Recommended Negotiation Strategy:**\n\n1. **Bundle Related Items**: Group SLA changes with warranty provisions for stronger leverage\n2. **Use Industry Standards**: Reference typical telecom contracts (8-12 hour SLAs, 9-12 month warranties)\n3. **Offer Compromises**: Show willingness to meet halfway - accept favorable changes (like enhanced security measures) while pushing back on unfavorable ones\n4. **Prioritize Business Impact**: Focus on changes that directly affect service reliability and cost\n\nWould you like me to draft specific counter-proposal language?';
            } else if (lowerQuestion.includes('accept') || lowerQuestion.includes('approve')) {
                return '**Recommendation: DO NOT accept Version 2.0 as-is**\n\nHere\'s my assessment:\n\nâœ… **ACCEPT**: Section 4 (Payment Terms), Section 6 (Data Security) - These are favorable changes\n\nâš ï¸ **NEGOTIATE**: Sections 2, 3, 5, 7 - Require counter-proposals\n\nâŒ **REJECT**: Any clause removing implied warranties\n\n**Overall**: The contract has both favorable and unfavorable changes. I recommend a counter-proposal that retains positive changes while addressing the 2 high-risk items and 2 medium-risk items.';
            } else if (lowerQuestion.includes('section 2')) {
                return '**Section 2 Analysis: Service Level Agreements**\n\n**Original**: Service credits for interruptions exceeding 24 consecutive hours\n**Proposed**: Service credits for interruptions exceeding 4 consecutive hours\n**AI Recommended**: Service credits for interruptions exceeding 12 consecutive hours\n\n**Why this matters**: The proposed 4-hour threshold, while appearing customer-friendly, may be impractical and could lead to frequent disputes. The 12-hour recommendation:\n- Provides meaningful protection\n- Aligns with industry standards\n- Reduces administrative burden\n- Shows good faith in negotiations\n\nWould you like me to explain the business impact in more detail?';
            } else {
                return 'I can help you with:\nâ€¢ **Risk analysis** of specific sections\nâ€¢ **Negotiation strategies** for favorable outcomes\nâ€¢ **Comparison** with industry standards\nâ€¢ **Impact assessment** of proposed changes\nâ€¢ **Counter-proposal suggestions**\n\nWhat would you like to explore?';
            }
        }
    </script>
</body>
</html>
